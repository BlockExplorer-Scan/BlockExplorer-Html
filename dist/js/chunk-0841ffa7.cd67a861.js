(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0841ffa7"],{3037:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("el-table",{staticStyle:{margin:"0 auto 30px"},attrs:{data:e.tableData,"header-cell-style":{color:"black",background:"#f9f9f9"},size:"mini","row-style":{fontWeight:600}}},[a("template",{slot:"empty"},[a("p",[e._v(e._s(e.$t("message.NoData")))])]),a("el-table-column",{attrs:{label:e.tableTitle.Height,"min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},on:{click:function(a){e.toDetail(t.row.number,"number")}},slot:"reference"},[e._v(e._s(t.row.number))])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.Age,"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.showTime?a("div",{on:{click:e.changeTime}},[e._v(e._s(t.row.timestampUTC))]):a("div",{on:{click:e.changeTime}},[t.row.timestamp[0]>0?a("span",[e._v("\n              "+e._s(t.row.timestamp[0])+"  "+e._s(e.$t("message.days"))+"\n              "+e._s(t.row.timestamp[1])+"  "+e._s(e.$t("message.hours"))+"\n            ")]):t.row.timestamp[1]>0?a("span",[e._v(e._s(t.row.timestamp[1])+"  "+e._s(e.$t("message.hours"))+" ")]):e._e(),t.row.timestamp[2]>0?a("span",[e._v(e._s(t.row.timestamp[2])+"  "+e._s(e.$t("message.mins"))+" ")]):e._e(),a("span",[e._v(e._s(t.row.timestamp[3])+" "+e._s(e.$t("message.secsAgo")))])])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.txn,"min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},on:{click:function(a){e.toDetail(t.row.number,"transactions")}},slot:"reference"},[e._v(e._s(t.row.transactions.length))])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.Uncles,"min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.uncles.length))])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.Miner,"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},on:{click:function(a){e.toDetail(t.row.miner,"miner")}},slot:"reference"},[e._v(e._s(t.row.miner))])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.GasUsed,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gasUsed))])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.GasLimit,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.gasLimit))])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.AvgGasPrice,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.AvgGasPrice||0)+" Gwei")])]}}])}),a("el-table-column",{attrs:{label:e.tableTitle.Reward,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v("\n          "+e._s(e._f("changeReward")(t.row.Reward))+" \n          "+e._s(t.row.maincoinName))])]}}])})],2),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"pages"},[a("span",{staticStyle:{"font-size":"14px","font-weight":"600"}},[e._v(e._s(e.$t("message.Show")))]),a("el-select",{attrs:{size:"mini"},on:{change:e.handleSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l(e.pageSizes,function(e){return a("el-option",{key:e.pageSize,attrs:{label:e.label,value:e.value}})})),a("span",{staticStyle:{"font-size":"14px","font-weight":"600"}},[e._v(e._s(e.$t("message.Page")))])],1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.currentPage,layout:e.layout,small:"",background:"","prev-text":e.$t("message.prev"),"next-text":e.$t("message.next")},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}},[a("span",{staticStyle:{"font-size":"14px",margin:"0 10px"}},[e._v(e._s(e.$t("message.Currentpage"))+": "+e._s(e.currentPage))])]),a("span",[e._v(e._s(e.$t("message.goto")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputPage,expression:"inputPage"}],staticClass:"page-input",domProps:{value:e.inputPage},on:{keyup:function(t){if(!("button"in t)&&13!==t.keyCode)return null;e.handleCurrentChange(e.inputPage)},input:function(t){t.target.composing||(e.inputPage=t.target.value)}}}),a("button",{staticStyle:{color:"#fff",outline:"none",border:"none","background-color":"#337ab7","line-height":"20px","font-weight":"bold",cursor:"pointer"},attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleCurrentChange(e.inputPage)}}},[e._v(e._s(e.$t("message.sure")))])],1)])],1)},s=[],i=(a("96cf"),a("1da1")),r=(a("6b54"),a("6762"),a("2fdb"),a("cadf"),a("551c"),a("097d"),a("f5ef")),l={data:function(){return{showTime:!1,inputPage:"",tableTitle:{Height:"Height",Age:"Age",txn:"txn",Uncles:"Uncles",Miner:"Miner",GasUsed:"GasUsed",GasLimit:"GasLimit",AvgGasPrice:"Avg.GasPrice",Reward:"Reward"},tableData:[],currentPage:parseInt(this.$route.query.page),pageStart:parseInt(this.$route.query.page)-1==0?0:20*(parseInt(this.$route.query.page)-1),pageNum:20,pages:1,total:0,height:"40",layout:" slot,prev, next",time1:0,pageSizes:[{value:20,label:20},{value:30,label:30},{value:40,label:40},{value:50,label:50}],pageSize:20}},filters:{changeReward:function(e){return e.toString().includes(".")?e.toString().includes(".00000")?e.toString().substring(0,1):e.toFixed(5):e}},created:function(){var e=this;this.queryblock(this.pageStart,this.pageNum);var t={addHandler:function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a}};t.addHandler(window,"online",function(){console.log("连上网了！"),e.queryblock(e.pageStart,e.pageNum)}),t.addHandler(window,"offline",function(){console.log("网络不给力，请检查网络设置!")}),"cn"==this.$i18n.locale?this.tableTitle={Height:"高度",Age:"塊齡",txn:"交易",Uncles:"叔區塊",Miner:"礦工",GasUsed:"燃料用量",GasLimit:"燃料上限",AvgGasPrice:"平均.燃料價值",Reward:"獎勵"}:this.tableTitle={Height:"Height",Age:"Age",txn:"Txn",Uncles:"Uncles",Miner:"Miner",GasUsed:"Gas Used",GasLimit:"Gas Limit",AvgGasPrice:"Avg Gas Price",Reward:"Reward"}},methods:{changeTime:function(){this.showTime=!this.showTime},handleSizeChange:function(e){this.pageNum=e,this.currentPage=1,this.inputPage=this.currentPage,this.$router.push({path:"/block/blocksPage",query:{page:this.currentPage}}),this.queryblock(0,e)},handleCurrentChange:function(e){if(e){if(e=parseInt(e),e*this.pageNum>1e4)return this.$message.error(this.$t("message.noMore10000")),void(this.currentPage=this.currentPage-1);this.currentPage=e;var t=this.pageNum,a=(e-1)*t;this.$router.push({path:"/block/blocksPage",query:{page:this.currentPage}}),this.queryblock(a,t)}},queryblock:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,a){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTime();case 2:this.$fetch("/query/block/data",{pageStart:t,pageNum:a}).then(function(e){if(200==e.status){n.tableData=e.data;for(var t=0;t<e.data.length;t++){var a=n.tableData[t].timestamp;n.tableData[t].timestamp=n.$time(n.time1-a),n.tableData[t].timestampUTC=n.changeTimeInBlcok(a),n.tableData[t].Reward=parseFloat(n.tableData[t].blockReward)+n.tableData[t].gasUsed/Math.pow(10,18)}}});case 3:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),toDetail:function(e,t){"miner"==t?this.$router.push({name:"address",params:{blockid:e,type:t}}):"transactions"==t?this.$router.push({name:"transactionsPage",params:{blockid:e},query:{blockid:e}}):this.$router.push({name:"blockDetail",params:{blockid:e}})},changeTimeInBlcok:function(e){var t=new Date(1e3*e),a=t.getFullYear()+"-",n=t.getMonth()+1<10?"0"+(t.getMonth()+1)+"-":t.getMonth()+1+"-",s=t.getDate()<10?"0"+t.getDate()+" ":t.getDate()+" ",i=t.getHours()<10?"0"+t.getHours()+":":t.getHours()+":",r=t.getMinutes()<10?"0"+t.getMinutes()+":":t.getMinutes()+":",l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+n+s+i+r+l+" (UTC)"},getTime:function(){var e=this;this.$fetch("/date").then(function(t){console.log(t),e.time1=t.data})}},mounted:function(){var e=this;r["a"].$on("language",function(t){e.tableTitle="cn"==t?{Height:"高度",Age:"塊齡",txn:"交易",Uncles:"叔區塊",Miner:"礦工",GasUsed:"燃料用量",GasLimit:"燃料上限",AvgGasPrice:"平均.燃料價值",Reward:"獎勵"}:{Height:"Height",Age:"Age",txn:"Txn",Uncles:"Uncles",Miner:"Miner",GasUsed:"Gas Used",GasLimit:"Gas Limit",AvgGasPrice:"Avg Gas Price",Reward:"Reward"}})},watch:{}},o=l,c=(a("f500"),a("2877")),u=Object(c["a"])(o,n,s,!1,null,"5130af46",null);u.options.__file="blocksPage.vue";t["default"]=u.exports},"575a":function(e,t,a){},f500:function(e,t,a){"use strict";var n=a("575a"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-0841ffa7.cd67a861.js.map